---
layout: default
title:  "EasyCTF2018 Zippity 80 points"
---

## EasyCTF2018 Zippity 80 points

### Intro(draft, since the CTF isn't over. You won't find direct answers here)

This is my second year participating in EasyCTF,and I liked one challenge in particular.

> I heard you liked zip codes! Connect via nc c1.easyctf.com 12483 to prove your zip code knowledge.
![Image](https://eqqn.github.io/images/Screenshot_20180214_230325.png)



Clearly looking up the codes manually is out of the question. After colleague of mine tried to enumerate enough responses to pass, but gave up after 80k unique entries ( 33.3k Zip codes * and 4 possible questions ~= **133.2k** possibilities). At first trying to form a database using US Census website was proving futile, and some datasets were behind paywalls. After some more searching I found https://www.census.gov/geo/REDACTED which contained the correct data, after testing a few questions and answers.

### Problems encountered
* tcp client would not print the question, after the countdown. The problem was that default buffer size for the socket was too big, meaning the line was only outputted when it was full. Fixed by outputting characters received in a stream with 's.recv(1)'
* leading zeroes were not properly handled, since the DB file did not contain leading 0's, but questions do. While in practice you can still succeed if you get lucky (indeed, 48/50 got me really close). Fixed with some ugly StackOverflow hack, converting the value to integer, then back to string. 
* consequence of previous fix, now I was getting multiple matches, which only happens with leading zeroes. In those case only the first first occurence matters (but only because list is sorted) so simple `|head -1` is enough.




```ruby
require 'socket'
```



**Bold** and _Italic_ and `Code` text

[Link](url) and ![Image](src)
```



